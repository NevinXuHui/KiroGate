# ğŸ”‘ ç³»ç»Ÿçº§è¶…çº§ API Key åŠŸèƒ½æ–‡æ¡£

## ğŸ“– ç›®å½•

- [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é…ç½®æ–¹å¼](#é…ç½®æ–¹å¼)
- [ç®¡ç†ç•Œé¢](#ç®¡ç†ç•Œé¢)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## åŠŸèƒ½æ¦‚è¿°

**ç³»ç»Ÿçº§è¶…çº§ API Key** æ˜¯ KiroGate v2.1.0 æ–°å¢çš„é«˜çº§åŠŸèƒ½ï¼Œæä¾›ç³»ç»Ÿçº§åˆ«çš„ API Key ç®¡ç†ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ğŸŒ **ç³»ç»Ÿçº§é…ç½®** | åœ¨ `.env` æ–‡ä»¶æˆ–ç®¡ç†åå°é…ç½®ï¼Œä¸ç»‘å®šç‰¹å®šç”¨æˆ· |
| ğŸ”“ **è®¿é—®æ‰€æœ‰å…¬å¼€ Token** | å¯ä»¥ä½¿ç”¨æ‰€æœ‰ç”¨æˆ·æçŒ®çš„å…¬å¼€ Token æ±  |
| ğŸ¯ **æ™ºèƒ½åˆ†é…** | æ ¹æ®é…ç½®çš„ç­–ç•¥è‡ªåŠ¨é€‰æ‹©æœ€ä½³ Token |
| ğŸ“Š **ç‹¬ç«‹ç»Ÿè®¡** | ä½¿ç”¨è®°å½•ç‹¬ç«‹è¿½è¸ªï¼Œä¸å½±å“ç”¨æˆ·ç»Ÿè®¡ |
| ğŸ”’ **å®‰å…¨ç®¡ç†** | æ”¯æŒç”Ÿæˆã€æŸ¥çœ‹ã€åˆ é™¤æ“ä½œï¼Œå¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ |
| ğŸš€ **å³æ—¶ç”Ÿæ•ˆ** | æ— éœ€é‡å¯æœåŠ¡ï¼Œç”Ÿæˆåç«‹å³å¯ç”¨ |

### ğŸ“Š ä¸ç”¨æˆ·çº§ API Key å¯¹æ¯”

| ç‰¹æ€§ | æ™®é€š API Key | ç”¨æˆ·çº§è¶…çº§ Key | ç³»ç»Ÿçº§è¶…çº§ Key |
|------|-------------|---------------|---------------|
| ç»‘å®šå¯¹è±¡ | ç‰¹å®šç”¨æˆ· | ç‰¹å®šç”¨æˆ· | ç³»ç»Ÿï¼ˆæ— ç”¨æˆ·ï¼‰ |
| Token è®¿é—®èŒƒå›´ | ä»…è‡ªå·±çš„ Token | æ‰€æœ‰å…¬å¼€ Token | æ‰€æœ‰å…¬å¼€ Token |
| åˆ›å»ºæ–¹å¼ | ç”¨æˆ·è‡ªå·±åˆ›å»º | ç®¡ç†å‘˜åˆ›å»º | ç®¡ç†å‘˜åˆ›å»º/é…ç½® |
| Key æ ¼å¼ | `sk-xxx` | `sk-xxx` (is_super=true) | `sk-super-xxx` |
| é…ç½®ä½ç½® | æ•°æ®åº“ | æ•°æ®åº“ | .env + å†…å­˜ |
| é€‚ç”¨åœºæ™¯ | ä¸ªäººä½¿ç”¨ | ç”¨æˆ·å…±äº« | å›¢é˜Ÿ/ç³»ç»Ÿå…±äº« |

---

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šé€šè¿‡ç®¡ç†åå°ï¼ˆæ¨èï¼‰

```bash
# 1. è®¿é—®ç®¡ç†åå°
http://127.0.0.1:9000/admin

# 2. ç™»å½•ï¼ˆå¯†ç : admin123ï¼‰

# 3. ç‚¹å‡» "âš™ï¸ ç³»ç»Ÿ" æ ‡ç­¾é¡µ

# 4. æ‰¾åˆ° "ğŸ”‘ è¶…çº§ API Keyï¼ˆç³»ç»Ÿçº§ï¼‰" å¡ç‰‡

# 5. ç‚¹å‡» "â• ç”Ÿæˆæ–°å¯†é’¥" æŒ‰é’®

# 6. å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰
```

### æ–¹å¼äºŒï¼šé€šè¿‡ .env æ–‡ä»¶é…ç½®

```bash
# ç¼–è¾‘ .env æ–‡ä»¶
nano .env

# æ·»åŠ æˆ–ä¿®æ”¹è¶…çº§ API Key é…ç½®
SUPER_API_KEYS="sk-super-abc123...,sk-super-def456..."

# é‡å¯æœåŠ¡
./run.sh
```

---

## é…ç½®æ–¹å¼

### 1. ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```bash
# ===========================================
# è¶…çº§ API Keyï¼ˆç³»ç»Ÿçº§ï¼‰
# ===========================================

# è¶…çº§ API Key åˆ—è¡¨ï¼ˆé€—å·åˆ†éš”ï¼Œå¯é…ç½®å¤šä¸ªï¼‰
# è¿™äº› Key å¯ä»¥è®¿é—®æ‰€æœ‰å…¬å¼€ Token æ± ï¼Œä¸ç»‘å®šç‰¹å®šç”¨æˆ·
# æ ¼å¼: sk-super-xxx,sk-super-yyy
# ç•™ç©ºè¡¨ç¤ºç¦ç”¨è¶…çº§ API Key åŠŸèƒ½
SUPER_API_KEYS="sk-super-abc123def456...,sk-super-xyz789..."
```

**é…ç½®è¯´æ˜ï¼š**
- æ”¯æŒé…ç½®å¤šä¸ªå¯†é’¥ï¼Œç”¨é€—å·åˆ†éš”
- æ¯ä¸ªå¯†é’¥å¿…é¡»ä»¥ `sk-super-` å¼€å¤´
- ç•™ç©ºè¡¨ç¤ºç¦ç”¨æ­¤åŠŸèƒ½
- ä¿®æ”¹åéœ€è¦é‡å¯æœåŠ¡ç”Ÿæ•ˆ

### 2. ç®¡ç†åå°é…ç½®

#### è®¿é—®ç®¡ç†ç•Œé¢

1. ç™»å½•ç®¡ç†åå°ï¼š`http://127.0.0.1:9000/admin`
2. ç‚¹å‡»é¡¶éƒ¨ **"âš™ï¸ ç³»ç»Ÿ"** æ ‡ç­¾é¡µ
3. æ‰¾åˆ° **"ğŸ”‘ è¶…çº§ API Keyï¼ˆç³»ç»Ÿçº§ï¼‰"** å¡ç‰‡

#### åŠŸèƒ½æŒ‰é’®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”‘ è¶…çº§ API Keyï¼ˆç³»ç»Ÿçº§ï¼‰                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç³»ç»Ÿçº§è¶…çº§ API Key å¯è®¿é—®æ‰€æœ‰å…¬å¼€       â”‚
â”‚ Token æ± ï¼Œä¸ç»‘å®šç‰¹å®šç”¨æˆ·                â”‚
â”‚                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ sk-super-abc1... [ğŸ“‹ å¤åˆ¶] [ğŸ—‘ï¸ åˆ é™¤]â”‚ â”‚
â”‚ â”‚ sk-super-def4... [ğŸ“‹ å¤åˆ¶] [ğŸ—‘ï¸ åˆ é™¤]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ [â• ç”Ÿæˆæ–°å¯†é’¥]  [ğŸ”„ åˆ·æ–°åˆ—è¡¨]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ“ä½œè¯´æ˜

**ç”Ÿæˆæ–°å¯†é’¥ï¼š**
1. ç‚¹å‡» **"â• ç”Ÿæˆæ–°å¯†é’¥"** æŒ‰é’®
2. ç¡®è®¤ç”Ÿæˆæ“ä½œ
3. å¼¹çª—æ˜¾ç¤ºå®Œæ•´å¯†é’¥ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰
4. ç‚¹å‡» **"ğŸ“‹ å¤åˆ¶å¯†é’¥"** å¤åˆ¶åˆ°å‰ªè´´æ¿
5. ä¿å­˜å¯†é’¥åˆ°å®‰å…¨ä½ç½®

**å¤åˆ¶å¯†é’¥ï¼š**
- ç‚¹å‡»å¯†é’¥å³ä¾§çš„ **"ğŸ“‹ å¤åˆ¶"** æŒ‰é’®
- å¯†é’¥ä¼šè‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿

**åˆ é™¤å¯†é’¥ï¼š**
- ç‚¹å‡»å¯†é’¥å³ä¾§çš„ **"ğŸ—‘ï¸ åˆ é™¤"** æŒ‰é’®
- ç¡®è®¤åˆ é™¤æ“ä½œ
- å¯†é’¥ç«‹å³å¤±æ•ˆ

**åˆ·æ–°åˆ—è¡¨ï¼š**
- ç‚¹å‡» **"ğŸ”„ åˆ·æ–°åˆ—è¡¨"** æŒ‰é’®
- é‡æ–°åŠ è½½å¯†é’¥åˆ—è¡¨

---

## ç®¡ç†ç•Œé¢

### ç•Œé¢å¸ƒå±€

```
ç®¡ç†åå° â†’ âš™ï¸ ç³»ç»Ÿæ ‡ç­¾é¡µ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ ç«™ç‚¹æ§åˆ¶                                              â”‚
â”‚ â€¢ ç«™ç‚¹å¼€å…³                                               â”‚
â”‚ â€¢ è‡ªç”¨æ¨¡å¼                                               â”‚
â”‚ â€¢ å¼ºåˆ¶æ¨¡å‹                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” Proxy API Key                                        â”‚
â”‚ â€¢ æŸ¥çœ‹/ä¿®æ”¹ Proxy API Key                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”‘ è¶…çº§ API Keyï¼ˆç³»ç»Ÿçº§ï¼‰                    â† æ–°å¢åŠŸèƒ½  â”‚
â”‚                                                         â”‚
â”‚ ç³»ç»Ÿçº§è¶…çº§ API Key å¯è®¿é—®æ‰€æœ‰å…¬å¼€ Token æ± ï¼Œ            â”‚
â”‚ ä¸ç»‘å®šç‰¹å®šç”¨æˆ·                                          â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ å¯†é’¥åˆ—è¡¨ï¼ˆæœ€å¤šæ˜¾ç¤º 10 ä¸ªï¼Œå¯æ»šåŠ¨ï¼‰                   â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â”‚ sk-super-abc1... [ğŸ“‹ å¤åˆ¶] [ğŸ—‘ï¸ åˆ é™¤]                â”‚ â”‚
â”‚ â”‚ sk-super-def4... [ğŸ“‹ å¤åˆ¶] [ğŸ—‘ï¸ åˆ é™¤]                â”‚ â”‚
â”‚ â”‚ sk-super-ghi7... [ğŸ“‹ å¤åˆ¶] [ğŸ—‘ï¸ åˆ é™¤]                â”‚ â”‚
â”‚ â”‚                                                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ [â• ç”Ÿæˆæ–°å¯†é’¥]  [ğŸ”„ åˆ·æ–°åˆ—è¡¨]                          â”‚
â”‚                                                         â”‚
â”‚ æç¤ºï¼šç”Ÿæˆçš„å¯†é’¥ä¼šè‡ªåŠ¨æ·»åŠ åˆ°é…ç½®ä¸­ï¼Œ                    â”‚
â”‚       é‡å¯æœåŠ¡åä» .env æ–‡ä»¶åŠ è½½                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¾ æ•°æ®å¯¼å…¥å¯¼å‡º                                          â”‚
â”‚ â€¢ å¯¼å‡º/å¯¼å…¥æ•°æ®åº“                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”§ ç³»ç»Ÿæ“ä½œ                                              â”‚
â”‚ â€¢ åˆ·æ–° Kiro Token                                        â”‚
â”‚ â€¢ æ¸…é™¤æ¨¡å‹ç¼“å­˜                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”Ÿæˆå¯†é’¥å¼¹çª—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‰ è¶…çº§ API Key ç”ŸæˆæˆåŠŸ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ âœ… ç³»ç»Ÿçº§è¶…çº§ API Key ç”ŸæˆæˆåŠŸï¼                      â”‚
â”‚                                                      â”‚
â”‚ ğŸ”‘ Key å‰ç¼€: sk-super-abc12...                       â”‚
â”‚ âš¡ ç±»å‹: ç³»ç»Ÿçº§è¶…çº§ API Key                           â”‚
â”‚ ğŸ“Š å½“å‰æ€»æ•°: 3 ä¸ª                                     â”‚
â”‚                                                      â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ ğŸ” å®Œæ•´å¯†é’¥ï¼ˆè¯·ç«‹å³ä¿å­˜ï¼Œä»…æ˜¾ç¤ºä¸€æ¬¡ï¼‰:                 â”‚
â”‚                                                      â”‚
â”‚ sk-super-abc123def456ghi789...                       â”‚
â”‚                                                      â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                      â”‚
â”‚ âš ï¸ é‡è¦æç¤º:                                          â”‚
â”‚ â€¢ æ­¤å¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·ç«‹å³å¤åˆ¶ä¿å­˜                     â”‚
â”‚ â€¢ ç³»ç»Ÿçº§è¶…çº§ API Key å¯è®¿é—®æ‰€æœ‰å…¬å¼€ Token æ±           â”‚
â”‚ â€¢ ä¸ç»‘å®šç‰¹å®šç”¨æˆ·ï¼Œé€‚åˆå›¢é˜Ÿå…±äº«ä½¿ç”¨                     â”‚
â”‚ â€¢ è¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æ³„éœ²ç»™ä»–äºº                           â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                      â”‚
â”‚                    [ğŸ“‹ å¤åˆ¶å¯†é’¥]  [å…³é—­]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: OpenAI SDK (Python)

```python
from openai import OpenAI

# ä½¿ç”¨ç³»ç»Ÿçº§è¶…çº§ API Key
client = OpenAI(
    base_url="http://localhost:9000/v1",
    api_key="sk-super-abc123def456..."  # ç³»ç»Ÿçº§è¶…çº§ API Key
)

# å‘é€è¯·æ±‚
response = client.chat.completions.create(
    model="claude-sonnet-4-5",
    messages=[
        {"role": "user", "content": "ä½ å¥½ï¼"}
    ]
)

print(response.choices[0].message.content)
```

### ç¤ºä¾‹ 2: Anthropic SDK (Python)

```python
from anthropic import Anthropic

# ä½¿ç”¨ç³»ç»Ÿçº§è¶…çº§ API Key
client = Anthropic(
    base_url="http://localhost:9000",
    api_key="sk-super-abc123def456..."  # ç³»ç»Ÿçº§è¶…çº§ API Key
)

# å‘é€è¯·æ±‚
message = client.messages.create(
    model="claude-sonnet-4-5",
    max_tokens=1024,
    messages=[
        {"role": "user", "content": "ä½ å¥½ï¼ŒClaudeï¼"}
    ]
)

print(message.content[0].text)
```

### ç¤ºä¾‹ 3: curl å‘½ä»¤

```bash
# OpenAI æ ¼å¼
curl http://localhost:9000/v1/chat/completions \
  -H "Authorization: Bearer sk-super-abc123def456..." \
  -H "Content-Type: application/json" \
  -d '{
    "model": "claude-sonnet-4-5",
    "messages": [
      {"role": "user", "content": "ä½ å¥½"}
    ]
  }'

# Anthropic æ ¼å¼
curl http://localhost:9000/v1/messages \
  -H "x-api-key: sk-super-abc123def456..." \
  -H "Content-Type: application/json" \
  -d '{
    "model": "claude-sonnet-4-5",
    "max_tokens": 1024,
    "messages": [
      {"role": "user", "content": "ä½ å¥½ï¼ŒClaudeï¼"}
    ]
  }'
```

### ç¤ºä¾‹ 4: ç¯å¢ƒå˜é‡é…ç½®

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export ANTHROPIC_BASE_URL="http://localhost:9000"
export ANTHROPIC_API_KEY="sk-super-abc123def456..."

# ä½¿ç”¨ Claude Code CLI
claude "å¸®æˆ‘å†™ä¸€ä¸ª Python å‡½æ•°"

# æˆ–ä½¿ç”¨ Python SDK
python your_script.py
```

---

## æŠ€æœ¯å®ç°

### 1. é…ç½®åŠ è½½

```python
# kiro_gateway/config.py

class Settings(BaseSettings):
    # è¶…çº§ API Key åˆ—è¡¨ï¼ˆç³»ç»Ÿçº§ï¼Œé€—å·åˆ†éš”ï¼‰
    super_api_keys: str = Field(default="", alias="SUPER_API_KEYS")
```

### 2. è®¤è¯é€»è¾‘

```python
# kiro_gateway/routes.py

async def _parse_auth_header(auth_header: str, request: Request = None):
    token = auth_header[7:]  # Remove "Bearer "

    # Check if it's a system-level super API key
    if token.startswith("sk-super-"):
        # Parse super API keys from config
        super_keys = [k.strip() for k in settings.super_api_keys.split(',') if k.strip()]

        # Check if token matches any configured super key
        if token in super_keys:
            logger.info(f"ç³»ç»Ÿçº§è¶…çº§ API Key è®¤è¯æˆåŠŸ")

            # Get best token from all public tokens
            donated_token, auth_manager = await token_allocator.get_best_token(None)

            # Store in request state for tracking
            if request:
                request.state.donated_token_id = donated_token.id
                request.state.is_super_key = True
                request.state.super_key_token = token

            return token, auth_manager, None, None
```

### 3. API ç«¯ç‚¹

#### è·å–å¯†é’¥åˆ—è¡¨

```http
GET /admin/api/super-keys
Authorization: Cookie admin_session=xxx

Response:
{
  "super_keys": [
    {
      "key": "sk-super-abc1...",
      "full_key": "sk-super-abc123def456..."
    }
  ],
  "count": 2
}
```

#### ç”Ÿæˆæ–°å¯†é’¥

```http
POST /admin/api/super-keys/generate
Authorization: Cookie admin_session=xxx

Response:
{
  "success": true,
  "key": "sk-super-abc123def456...",
  "key_prefix": "sk-super-abc1...",
  "count": 3
}
```

#### åˆ é™¤å¯†é’¥

```http
POST /admin/api/super-keys/delete
Authorization: Cookie admin_session=xxx
Content-Type: multipart/form-data

key=sk-super-abc123def456...

Response:
{
  "success": true,
  "count": 2
}
```

### 4. å‰ç«¯å®ç°

```javascript
// åˆ·æ–°å¯†é’¥åˆ—è¡¨
async function refreshSuperKeys() {
  const data = await fetchJson('/admin/api/super-keys');
  // æ¸²æŸ“å¯†é’¥åˆ—è¡¨
}

// ç”Ÿæˆæ–°å¯†é’¥
async function generateSuperKey() {
  const data = await fetchJson('/admin/api/super-keys/generate', {
    method: 'POST',
    body: new FormData()
  });
  // æ˜¾ç¤ºç”Ÿæˆçš„å¯†é’¥
}

// åˆ é™¤å¯†é’¥
async function deleteSuperKey(key) {
  const fd = new FormData();
  fd.append('key', key);
  await fetchJson('/admin/api/super-keys/delete', {
    method: 'POST',
    body: fd
  });
}
```

---

## å¸¸è§é—®é¢˜

### Q1: ç³»ç»Ÿçº§è¶…çº§ API Key å’Œç”¨æˆ·çº§è¶…çº§ API Key æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A:** ä¸»è¦åŒºåˆ«ï¼š

| ç‰¹æ€§ | ç”¨æˆ·çº§è¶…çº§ Key | ç³»ç»Ÿçº§è¶…çº§ Key |
|------|---------------|---------------|
| ç»‘å®šå¯¹è±¡ | ç‰¹å®šç”¨æˆ· | ç³»ç»Ÿï¼ˆæ— ç”¨æˆ·ï¼‰ |
| å­˜å‚¨ä½ç½® | æ•°æ®åº“ | .env + å†…å­˜ |
| åˆ›å»ºæ–¹å¼ | ç®¡ç†å‘˜ä¸ºç”¨æˆ·åˆ›å»º | ç®¡ç†å‘˜åœ¨ç³»ç»Ÿé…ç½® |
| Key æ ¼å¼ | `sk-xxx` | `sk-super-xxx` |
| é€‚ç”¨åœºæ™¯ | ç”¨æˆ·ä¸ªäººå…±äº« | å›¢é˜Ÿ/ç³»ç»Ÿå…±äº« |

### Q2: å¦‚ä½•åœ¨ .env æ–‡ä»¶ä¸­é…ç½®å¤šä¸ªè¶…çº§ API Keyï¼Ÿ

**A:** ä½¿ç”¨é€—å·åˆ†éš”ï¼š

```bash
SUPER_API_KEYS="sk-super-key1,sk-super-key2,sk-super-key3"
```

### Q3: ç”Ÿæˆçš„å¯†é’¥ä¼šè‡ªåŠ¨ä¿å­˜åˆ° .env æ–‡ä»¶å—ï¼Ÿ

**A:** ä¸ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æ–‡ä»¶ï¼Œä½†ä¼šä¿å­˜åˆ°å†…å­˜é…ç½®ä¸­ï¼š
- ç”Ÿæˆçš„å¯†é’¥ç«‹å³å¯ç”¨ï¼ˆæ— éœ€é‡å¯ï¼‰
- é‡å¯æœåŠ¡åä¼šä» .env æ–‡ä»¶é‡æ–°åŠ è½½
- å»ºè®®æ‰‹åŠ¨å°†ç”Ÿæˆçš„å¯†é’¥æ·»åŠ åˆ° .env æ–‡ä»¶ä»¥æŒä¹…åŒ–

### Q4: å¦‚æœæ²¡æœ‰å…¬å¼€ Token ä¼šæ€æ ·ï¼Ÿ

**A:** ä½¿ç”¨è¶…çº§ API Key æ—¶ä¼šè¿”å› 503 é”™è¯¯ï¼š

```json
{
  "detail": "æš‚æ— å¯ç”¨çš„å…¬å…± Token"
}
```

**è§£å†³æ–¹æ³•ï¼š**
1. ç”¨æˆ·ç™»å½•åæ·»åŠ  Token
2. åœ¨ Token ç®¡ç†é¡µé¢è®¾ç½®ä¸º"å…¬å¼€"
3. è¶…çº§ API Key å³å¯ä½¿ç”¨

### Q5: å¦‚ä½•æŸ¥çœ‹è¶…çº§ API Key çš„ä½¿ç”¨æƒ…å†µï¼Ÿ

**A:** åœ¨ç®¡ç†åå°å¯ä»¥æŸ¥çœ‹ï¼š
- Token æ± ç®¡ç†ï¼šæŸ¥çœ‹å…¬å¼€ Token çš„ä½¿ç”¨æ¬¡æ•°
- ç³»ç»Ÿæ—¥å¿—ï¼šè®°å½•è¶…çº§ API Key çš„ä½¿ç”¨

### Q6: åˆ é™¤å¯†é’¥åä¼šç«‹å³å¤±æ•ˆå—ï¼Ÿ

**A:** æ˜¯çš„ï¼åˆ é™¤åç«‹å³å¤±æ•ˆï¼š
- ä»å†…å­˜é…ç½®ä¸­ç§»é™¤
- æ­£åœ¨ä½¿ç”¨è¯¥å¯†é’¥çš„è¯·æ±‚ä¼šå¤±è´¥
- å»ºè®®åœ¨åˆ é™¤å‰é€šçŸ¥ä½¿ç”¨è€…

### Q7: å¯ä»¥é€šè¿‡ API ä¿®æ”¹ .env æ–‡ä»¶å—ï¼Ÿ

**A:** ä¸å¯ä»¥ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼š
- API åªèƒ½ä¿®æ”¹å†…å­˜é…ç½®
- .env æ–‡ä»¶éœ€è¦æ‰‹åŠ¨ç¼–è¾‘
- é‡å¯æœåŠ¡åä» .env é‡æ–°åŠ è½½

### Q8: è¶…çº§ API Key æ”¯æŒå“ªäº› Token åˆ†é…ç­–ç•¥ï¼Ÿ

**A:** æ”¯æŒæ‰€æœ‰é…ç½®çš„ç­–ç•¥ï¼š

```bash
# åœ¨ .env ä¸­é…ç½®
TOKEN_ALLOCATION_STRATEGY="round_robin"  # è½®è¯¢
# æˆ–
TOKEN_ALLOCATION_STRATEGY="score_based"  # è¯„åˆ†ä¼˜å…ˆ
# æˆ–
TOKEN_ALLOCATION_STRATEGY="sequential"   # é¡ºåºä½¿ç”¨
```

---

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: å›¢é˜Ÿå…±äº«

**éœ€æ±‚ï¼š** å›¢é˜Ÿæˆå‘˜éœ€è¦å…±äº«ä½¿ç”¨ Claude API

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç®¡ç†å‘˜ç”Ÿæˆç³»ç»Ÿçº§è¶…çº§ API Key
2. å°†å¯†é’¥åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜
3. å›¢é˜Ÿæˆå‘˜é…ç½®åˆ°å„è‡ªçš„å¼€å‘ç¯å¢ƒ

**ä¼˜åŠ¿ï¼š**
- âœ… ä¸ç»‘å®šç‰¹å®šç”¨æˆ·ï¼Œçµæ´»ç®¡ç†
- âœ… ç»Ÿä¸€é…ç½®ï¼Œæ–¹ä¾¿ç»´æŠ¤
- âœ… è‡ªåŠ¨è´Ÿè½½å‡è¡¡åˆ°æ‰€æœ‰å…¬å¼€ Token

### åœºæ™¯ 2: CI/CD é›†æˆ

**éœ€æ±‚ï¼š** åœ¨ CI/CD æµç¨‹ä¸­ä½¿ç”¨ Claude API

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç”Ÿæˆä¸“ç”¨çš„ç³»ç»Ÿçº§è¶…çº§ API Key
2. é…ç½®åˆ° CI/CD ç¯å¢ƒå˜é‡
3. è‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹ä¸­ä½¿ç”¨

**ä¼˜åŠ¿ï¼š**
- âœ… ä¸ä¾èµ–ç‰¹å®šç”¨æˆ·è´¦å·
- âœ… å¯†é’¥è½®æ¢æ–¹ä¾¿
- âœ… ç‹¬ç«‹çš„ä½¿ç”¨ç»Ÿè®¡

### åœºæ™¯ 3: å…¬å…±æœåŠ¡

**éœ€æ±‚ï¼š** æä¾›å…¬å…± API æœåŠ¡ä¾›ç”¨æˆ·å…è´¹ä½¿ç”¨

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç”Ÿæˆç³»ç»Ÿçº§è¶…çº§ API Key
2. åœ¨ç½‘ç«™ä¸Šæä¾›è¯¥å¯†é’¥
3. ç”¨æˆ·ç›´æ¥ä½¿ç”¨æ— éœ€æ³¨å†Œ

**ä¼˜åŠ¿ï¼š**
- âœ… é™ä½ä½¿ç”¨é—¨æ§›
- âœ… èµ„æºå…±äº«ï¼Œé™ä½æˆæœ¬
- âœ… ä¾¿äºç›‘æ§å’Œé™æµ

### åœºæ™¯ 4: å¤šç¯å¢ƒéƒ¨ç½²

**éœ€æ±‚ï¼š** å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä¸åŒå¯†é’¥

**è§£å†³æ–¹æ¡ˆï¼š**
1. ä¸ºæ¯ä¸ªç¯å¢ƒç”Ÿæˆç‹¬ç«‹çš„è¶…çº§ API Key
2. åœ¨å„ç¯å¢ƒçš„ .env æ–‡ä»¶ä¸­é…ç½®
3. ç‹¬ç«‹ç®¡ç†å’Œç›‘æ§

**ä¼˜åŠ¿ï¼š**
- âœ… ç¯å¢ƒéš”ç¦»
- âœ… ç‹¬ç«‹çš„ä½¿ç”¨ç»Ÿè®¡
- âœ… ä¾¿äºé—®é¢˜æ’æŸ¥

---

## å®‰å…¨å»ºè®®

### 1. å¯†é’¥ç®¡ç†

- âœ… ç”Ÿæˆåç«‹å³ä¿å­˜åˆ°å®‰å…¨ä½ç½®
- âœ… ä½¿ç”¨å¯†ç ç®¡ç†å™¨æˆ–åŠ å¯†å­˜å‚¨
- âœ… ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡ä¼ é€’å¯†é’¥

### 2. è®¿é—®æ§åˆ¶

- âœ… åªä¸ºå¯ä¿¡å›¢é˜Ÿæˆå‘˜æä¾›å¯†é’¥
- âœ… å®šæœŸå®¡æŸ¥å¯†é’¥ä½¿ç”¨æƒ…å†µ
- âœ… å‘ç°å¼‚å¸¸ç«‹å³åˆ é™¤å¯†é’¥
- âœ… ä¸ºä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒå¯†é’¥

### 3. å¯†é’¥è½®æ¢

- âœ… å®šæœŸç”Ÿæˆæ–°å¯†é’¥æ›¿æ¢æ—§å¯†é’¥
- âœ… å»ºè®®æ¯ 3-6 ä¸ªæœˆè½®æ¢ä¸€æ¬¡
- âœ… åˆ é™¤ä¸å†ä½¿ç”¨çš„å¯†é’¥
- âœ… è®°å½•å¯†é’¥çš„åˆ›å»ºå’Œåˆ é™¤æ—¶é—´

### 4. ç›‘æ§å’Œå®¡è®¡

- âœ… å®šæœŸæ£€æŸ¥è¶…çº§ API Key çš„ä½¿ç”¨æƒ…å†µ
- âœ… å…³æ³¨å¼‚å¸¸çš„è¯·æ±‚æ¨¡å¼
- âœ… ç›‘æ§ Token æ± çš„å¥åº·çŠ¶æ€
- âœ… ä¿ç•™ä½¿ç”¨æ—¥å¿—ç”¨äºå®¡è®¡

---

## æ›´æ–°æ—¥å¿—

### v2.1.0 (2026-01-28)

- âœ… æ–°å¢ç³»ç»Ÿçº§è¶…çº§ API Key åŠŸèƒ½
- âœ… æ”¯æŒåœ¨ .env æ–‡ä»¶é…ç½®
- âœ… ç®¡ç†åå°æ”¯æŒç”Ÿæˆã€æŸ¥çœ‹ã€åˆ é™¤æ“ä½œ
- âœ… ç²¾ç¾çš„å¯†é’¥å±•ç¤ºå¼¹çª—
- âœ… ä¸€é”®å¤åˆ¶åŠŸèƒ½
- âœ… å®Œæ•´çš„ä½¿ç”¨æ–‡æ¡£

---

## ç›¸å…³æ–‡æ¡£

- [KiroGate ä¸»æ–‡æ¡£](README.md)
- [é…ç½®æ–‡æ¡£](CONFIG.md)
- [API æ–‡æ¡£](http://127.0.0.1:9000/docs)
- [ç”¨æˆ·ç³»ç»Ÿæ–‡æ¡£](USER_SYSTEM.md)

---

## æ”¯æŒå’Œåé¦ˆ

å¦‚æœä½ åœ¨ä½¿ç”¨ç³»ç»Ÿçº§è¶…çº§ API Key åŠŸèƒ½æ—¶é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"éƒ¨åˆ†
2. æ£€æŸ¥æœåŠ¡æ—¥å¿—
3. æäº¤ Issue

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰**
